@model AspNetCoreMvcWithLightVue.Controllers.ComplexViewModel
@{
    Layout = null;
    var categoryIndex = (ViewBag.CategoryIndex as int?).GetValueOrDefault();
}
<table class="table">
    <thead>
    <tr>
        <th>Category</th>
        <th>Name</th>
        <th>Value</th>
        <th></th>
    </tr>
    </thead>
    <tbody>

    @for (int itemIndex = 0; itemIndex < Model.Categories[categoryIndex].Items.Length; itemIndex++)
    {
        <tr>
            @if (itemIndex == 0)
            {
                <td class="align-middle" rowspan="3">
                    <input name="Categories[@categoryIndex].Name"
                           value="@Model.Categories[categoryIndex].Name" />
                </td>
            }

            <td>
                <input name="Categories[@categoryIndex].Items[@itemIndex].Name"
                       value="@Model.Categories[categoryIndex].Items[itemIndex].Name" />
            </td>
            <td>
                <input name="Categories[@categoryIndex].Items[@itemIndex].Value"
                       value="@Model.Categories[categoryIndex].Items[itemIndex].Value" />
            </td>

             @if (itemIndex == 0)
             {
                 <td class="align-middle" rowspan="3">
                     <input type="button"
                            onclick="DeleteTable(event);"
                            value="刪除"  />
                 </td>
             }
       </tr>
    }
    </tbody>
</table>
